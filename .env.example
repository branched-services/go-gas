# =============================================================================
# Gas Estimator Service - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# All variables are prefixed with GAS_
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED: Node Connection
# -----------------------------------------------------------------------------

# Ethereum node HTTP RPC endpoint
# Used for: block fetching, txpool queries, chain ID
GAS_NODE_HTTP_URL=http://localhost:8545

# Ethereum node WebSocket endpoint
# Used for: real-time block subscriptions (newHeads)
GAS_NODE_WS_URL=ws://localhost:8546

# -----------------------------------------------------------------------------
# OPTIONAL: Server Configuration
# -----------------------------------------------------------------------------

# API server listen address (HTTP/JSON, gRPC-shaped)
# Default: :9090
GAS_GRPC_ADDR=:9090

# Health/metrics server listen address
# Exposes: /healthz (liveness), /readyz (readiness)
# Default: :8080
GAS_HTTP_ADDR=:8080

# -----------------------------------------------------------------------------
# OPTIONAL: Estimator Tuning
# -----------------------------------------------------------------------------

# Number of historical blocks to track for estimation
# Higher = more stable estimates, slower to react
# Lower = more responsive, potentially more volatile
# Range: 1-1000
# Default: 20
GAS_HISTORY_BLOCKS=20

# Maximum pending transactions to sample from mempool
# Higher = better accuracy, more CPU/memory
# Set to 0 to disable mempool sampling (historical only)
# Range: 0-10000
# Default: 500
GAS_MEMPOOL_SAMPLES=500

# How often to recalculate estimates (between blocks)
# Lower = fresher estimates, more CPU
# Minimum: 10ms
# Default: 200ms
GAS_RECALC_INTERVAL=200ms

# -----------------------------------------------------------------------------
# OPTIONAL: Observability
# -----------------------------------------------------------------------------

# Log level: debug, info, warn, error
# Default: info
GAS_LOG_LEVEL=info

# Log format: json (structured) or text (human-readable)
# Use json for production, text for local development
# Default: json
GAS_LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Example Configurations
# -----------------------------------------------------------------------------

# Local Development (with local node):
#   GAS_NODE_HTTP_URL=http://localhost:8545
#   GAS_NODE_WS_URL=ws://localhost:8546
#   GAS_LOG_LEVEL=debug
#   GAS_LOG_FORMAT=text

# Production (with Alchemy):
#   GAS_NODE_HTTP_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY
#   GAS_NODE_WS_URL=wss://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY
#   GAS_LOG_LEVEL=info
#   GAS_LOG_FORMAT=json

# Production (with Infura):
#   GAS_NODE_HTTP_URL=https://mainnet.infura.io/v3/YOUR_PROJECT_ID
#   GAS_NODE_WS_URL=wss://mainnet.infura.io/ws/v3/YOUR_PROJECT_ID

# Low-latency trading (aggressive settings):
#   GAS_HISTORY_BLOCKS=5
#   GAS_MEMPOOL_SAMPLES=1000
#   GAS_RECALC_INTERVAL=50ms